export class Monatsliste{constructor(e,t){this._jahr=t,this._monat=e,this._eintraege=[],this._bilanz=0,this._html=this._html_generieren()}monat(){return this._monat}jahr(){return this._jahr}html(){return this._html}eintrag_hinzufuegen(e){this._eintraege.push(e),this._bilanzieren(),this._aktualisieren()}_eintraege_sortieren(){this._eintraege.sort((e,t)=>e._datum>t._datum?-1:e._datum<t._datum?1:e.timestamp()>t.timestamp()?-1:1)}_bilanzieren(){let e=0;this._eintraege.forEach(t=>{"einnahme"===t.typ()?e+=t.betrag():e-=t.betrag()}),this._bilanz=e}_eintraege_anzeigen(){document.querySelectorAll(".monatsliste ul").forEach(e=>{e.remove()});let e=document.createElement("ul");for(let t of this._eintraege)e.insertAdjacentElement("beforeend",t._html);document.querySelector(".monatsliste").insertAdjacentElement("afterbegin",e)}_html_generieren(){let e=document.createElement("article");e.className="monatsliste";let t=document.createElement("h2"),n=document.createElement("span");n.className="monat-jahr",n.textContent=`${new Date(this.jahr(),this.monat()-1).toLocaleDateString("de-DE",{month:"long",year:"numeric"})}`,t.insertAdjacentElement("beforeend",n);let a=document.createElement("span");this._bilanz<0?a.setAttribute("class","monatsbilanz negativ"):a.setAttribute("class","monatsbilanz positiv"),a.textContent=`${(this._bilanz/100).toFixed(2).replace(/\./,",")}â‚¬`,t.insertAdjacentElement("beforeend",a),e.insertAdjacentElement("beforeend",t);let i=document.createElement("ul");return this._eintraege.forEach(e=>{i.insertAdjacentElement("beforeend",e.html())}),e.insertAdjacentElement("beforeend",i),e}_aktualisieren(){this._eintraege_sortieren(),this._html=this._html_generieren()}}